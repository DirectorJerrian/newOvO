# 需求规格说明

## 更新记录

| 时间 | 更新人 | 更新内容 |
| ---- | :---: | :---: |
| 2020.4.18 | 赵睿豪 | 引言，总体描述 |
| 2020.4.19 | 王睿 | 非功能需求，对外接口 |
| 2020.4.19 | 巫夷 | 功能需求 |
| 2020.4.20 | 何文兵 | 数据需求 |
| 2020.4.20 | 赵睿豪 | 文档整合，调整格式 |
| 2020.4.20 | 王睿 | 3.1.2通信接口，3.3.2可维护性，3.3.5业务规划，3.3.6约束 |
| 2020.4.20 | 赵睿豪 | 其他需求 |
| 2020.6.26 | 赵睿豪 | 修改项目功能及约束 |
| 2020.6.26 | 王睿 | 对外接口 |
| 2020.6.29 | 何文兵 | 调整数据需求 |

## 1. 引言

### 1.1 目的

​		编写本需求规格说明书的目的是为了详细说明互联网酒店预订管理系统（以下简称酒店管理系统）的功能及需求，从而进一步确定网站开发过程中的细节，并用于后期的验证工作。开发小组的酒店管理系统的实现与验证工作都将以此文档为依据，希望能使本系统开发工作更高效、更明确。

​		除特殊说明外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

​		本文档描述的产品是酒店管理系统，该系统面向有酒店预订需求的客户以及需要提供网上酒店预订服务的酒店相关工作人员。开发的目标是帮助客户与酒店工作人员快速便捷的完成酒店预订相关业务，包括酒店预订、优惠活动、客房管理。

​		通过酒店管理系统的应用，期望提高客户与酒店预订活动的效率、吸引酒店和顾客的入驻、降低预订成本、提高酒店口碑和利润。

### 1.3 参考文献

1）IEEE标准

2）酒店管理系统用例模板。

3）大作业需求v3

## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇

​		随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下酒店预订模式有着很多不方便之处：

- 因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限，难以选择到最适合的酒店；
- 提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期；
- 酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系；
- 虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉，过去的参考作用就受到限制。（事实上，过去的出行体验会大大影响人们未来的选择）

​		酒店管理系统就是为了满足新的业务发展要求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。客户以及酒店工作人员通过客户端完成酒店预订及客房管理，客户端与数据集中服务器采取实时通信的方式完成数据交换。

#### 2.1.2 业务需求

- BR1: 在系统使用6个月后，旅游高峰期客房空闲的现象要减少50%。
- BR2: 在系统使用3个月后，酒店工作人员的工作效率提高50%。
- BR3: 在系统使用6个月后，运营成本要降低15%。
  - 范围: 人力成本和通讯成本。
  - 度量: 检查平均员工数量和平均没100份订单的通讯成本。

- BR4: 在系统使用6个月后，销售额度要提高20%。
  - 最好情况：40%。
  - 最可能情况：20%
  - 最坏情况：10%

### 2.2 项目功能

- SF1：帮助酒店工作人员完成酒店预订与退订任务
- SF2：制定促销手段，增加旅游淡季收入
- SF3：制定补贴方案，吸引酒店和客户的入驻
- SF4： 管理员工变动以及酒店信息变动
- SF5：处理客房余量变化
- SF6：通过会员与储值机制盈利

### 2.3 用户特征

| 用户         |                             特征                             |
| :----------- | :----------------------------------------------------------: |
| 客户         | 系统可以有任意个客户同时使用。他们通常在需要时进行搜索酒店，并对其中的一部分进行详细信息浏览。他们偶尔会对个人基本信息进行修改。通常他们一次会预订一个酒店，并由此生成订单，但是也存在同时预订多个酒店的情况，且可能会需要退订错误的订单。他们可以通过系统注册会员，享受一定的优惠。通常他们的计算机技能参差不齐，因此系统需要尽可能的简洁以及便于操作，不能让客户不知如何操作，因此要求系统能够解决这些问题。 |
| 酒店工作人员 | 每个酒店有1个酒店工作人员。他们每天要处理大量酒店预订任务，包括预订以及退订，并更新可用客房的信息。通常每年要维护酒店基本信息。通常每个季度酒店工作人员会制定酒店促销策略。每天他们会根据需要浏览未执行的、一致性的以及异常和已撤销的订单。他们对系统的依赖性很大。但是通常不能要求酒店工作人员有很高的计算机技能，尤其是新雇佣的酒店工作人员，因此需要系统便于操作且可应对可能的错误操作。 |
| 网站营销人员 | 网站有1~10个网站营销人员。他们通常每年在特定期间为酒店制定补贴政策鼓励酒店进行促销。他们需要为VIP会员制定特定商圈专属折扣，并制定会员等级与折扣制度，通常每年需要对制度进行适当调整。此外他们每天需要浏览未执行订单情况，并根据实际情况决定处理异常订单申诉。此外他们每天要处理一些信用充值任务，通常由因订单异常扣除信用分的客户发起。由于人员数量少，所以需要系统不能浪费过多时间。网站营销人员计算机技能好。 |
| 网站管理人员 | 整个系统有1个管理员，他的工作是查询更改客户及酒店工作人员的信息，添加网站营销人员以及酒店，并为酒店添加工作人员。添加营销人员是单个员工行为，每个酒店只能有一个酒店工作人员。网站管理人员是网站的专业维护人员，计算机技能很好。 |



### 2.4 约束

- CON1: 系统将运行在Windows、MacOS、Linux、Android上。
- CON2：系统使用Web界面
- CON3：项目要使用持续集成方法开发
- CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告
- CON5：系统需要支持OSS云存储以及支付宝支付接口

### 2.5 假设与依赖

- AE1：不同的优惠活动不会叠加。
- AE2：每个酒店的客房的总量基本不变。
- AE3：系统需要网络的相对稳定。
- AE4：超过15分钟未进行任何操作，系统将自动退出。
- AE5：系统内城市及商圈信息基本不会发生变化。

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面

    UI1 注册登录：系统应帮助用户完成注册和登录。
    界面图示为  
![注册登录](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95.png)

        UI1.1 在用户要求注册账号时，系统切换至注册页面，如图
![注册](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E6%B3%A8%E5%86%8C.png)

        UT1.2 在用户完成登录输入时，若用户名或密码错误，显示错误信息，如图
![用户名或密码错误](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E7%99%BB%E9%99%86%E5%A4%B1%E8%B4%A5.png)

        UT1.3 在用户完成登录输入时，若用户输入了正确的用户名和密码，系统显示首页，如图
![首页](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3/%E9%A6%96%E9%A1%B5.png)

    UT2 用户首页：系统应展示酒店列表及个人信息。
    界面图示为
![首页](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%A6%96%E9%A1%B5.png)

        UT2.1 在用户要求修改消息时，系统显示，如图
![修改信息](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BF%AE%E6%94%B9%E4%BF%A1%E6%81%AF.png)

        UT2.2 在用户要求查看订单信息时，系统显示我的订单，如图
![我的订单](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E6%88%91%E7%9A%84%E8%AE%A2%E5%8D%95.png)

        UT2.2 在用户要求修改头像时，系统提供修改头像功能，如图
![修改头像](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BF%AE%E6%94%B9%E5%A4%B4%E5%83%8F.png)

        UT2.2 在用户要求查看优惠券时，系统显示我的优惠券，如图
![我的订单](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E6%88%91%E7%9A%84%E4%BC%98%E6%83%A0%E5%88%B8.png)

        UT2.2 在用户要求查看信用值变化记录时，系统显示我的信用值变化记录，如图
![我的信用值](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BF%A1%E7%94%A8%E5%80%BC%E5%8F%98%E5%8C%96.png)

        UT2.2 在用户要求会员充值时，系统提供充值功能，如图
![会员充值](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BC%9A%E5%91%98%E5%85%85%E5%80%BC.png)

    UT3 酒店信息：系统应展示酒店信息及预定酒店，如图
![酒店列表](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%A6%96%E9%A1%B5.png)

        UT3.1 在用户选择酒店时，系统显示酒店信息，如图
![酒店详细信息](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E8%AF%A6%E6%83%85.png)

            UT3.1.2 在用户选择酒店时，系统提供精确搜索功能，如图
![酒店精确搜索](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E6%90%9C%E7%B4%A2.png)

            UT3.1.2 在用户选择酒店时，系统提供排序功能，如图
![酒店排序](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E6%8E%92%E5%BA%8F.png)

            UT3.2.1 在用户要求查看酒店详情信息时，系统展示酒店详情，如图
![酒店详情](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E5%A2%9E%E5%8A%A0%E5%88%A0%E9%99%A4%E6%88%BF%E9%97%B4.png)

            UT3.2.2 在用户选择酒店预定时，系统弹出预定界面，如图
![预定详情](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E9%9C%80%E6%B1%82%E6%96%87%E6%A1%A3/%E9%A2%84%E5%AE%9A%E8%AF%A6%E6%83%85.png)


    UT4 酒店工作人员首页：系统应展示酒店信息及酒店管理，如图
![酒店工作人员首页](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E5%B7%A5%E4%BD%9C%E4%BA%BA%E5%91%98%E7%99%BB%E5%BD%95.png)

        UT4.1 在酒店工作人员选择酒店时，系统显示酒店信息，并提供增加减少房间数量操作，如图
![增减房间数量](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E5%A2%9E%E5%8A%A0%E5%88%A0%E9%99%A4%E6%88%BF%E9%97%B4.png)

        UT4.2 在酒店工作人员进行酒店管理时，系统提供录入房间操作，如图
![录入房间](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E5%BD%95%E5%85%A5%E6%88%BF%E9%97%B4.png)

        UT4.3 在酒店工作人员进行酒店管理时，系统提供查看优惠策略操作，如图
![查看优惠策略](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BC%98%E6%83%A0%E7%AD%96%E7%95%A5.png)

                UT4.3.1 在酒店工作人员进行酒店管理时，系统提供添加优惠策略操作，如图
![添加优惠策略](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E6%B7%BB%E5%8A%A0%E4%BC%98%E6%83%A0%E7%AD%96%E7%95%A5.png)

        UT4.4 在酒店工作人员进行酒店管理时，系统提供修改酒店信息操作，如图
![修改酒店信息](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E4%BF%A1%E6%81%AF%E4%BF%AE%E6%94%B9.png)

        UT4.6 在酒店工作人员进行酒店管理时，系统提供管理订单和办理入住操作，如图
![管理订单](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E5%B7%A5%E4%BD%9C%E4%BA%BA%E5%91%98%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86.png)

    UT5 管理人员首页：系统应展示酒店信息及管理用户，如图
![管理员首页](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E7%AE%A1%E7%90%86%E4%BA%BA%E5%91%98%E9%A6%96%E9%A1%B5.png)

        UT5.1 在管理人员进行管理时，系统提供账户管理，如图
![账户管理](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E9%85%92%E5%BA%97%E5%B7%A5%E4%BD%9C%E4%BA%BA%E5%91%98%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86.png)

    UT6 网站营销人员首页：系统应展示订单管理、优惠策略管理及信用充值，如图
![网站营销人员首页](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E7%BD%91%E7%AB%99%E8%90%A5%E9%94%80%E4%BA%BA%E5%91%98%E9%A6%96%E9%A1%B5.png)

        UT6.1 在网站营销人员进行管理时，系统提供订单管理，如图
![订单管理](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86.png)

        UT6.2 在网站营销人员进行管理时，系统提供给用户提供优惠券，如图
![优惠券](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E4%BC%98%E6%83%A0%E5%88%B8.png)

        UT6.3 在网站营销人员进行管理时，系统提供信用充值功能，如图
![信用充值](https://hoteluc.oss-cn-beijing.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3/%E4%BF%A1%E7%94%A8%E5%85%85%E5%80%BC.png)

#### 3.1.2 通信接口

​		客户端与服务器使用RMI的方式进行通讯。

### 3.2 功能需求
### 3.2.1管理个人基本信息

#### 3.2.1.1特性描述

​		用户请求查看个人基本信息，系统识别用户身份，显示用户信息。用户可以维护个人基本信息（姓名或名称，联系方式），浏览自己未执行的正常订单，浏览自己已执行的正常订单，浏览已撤销的订单。

#### 3.2.1.2刺激/响应序列

刺激：用户请求查看个人基本信息

响应：系统识别用户身份，显示用户个人基本信息

刺激：用户请求维护个人基本信息（包括姓名，名称，联系方式）

响应：系统要求用户输入修改的信息

刺激：用户完成修改信息的输入

响应：系统更改个人基本信息并提示信息修改成功

刺激：用户请求修改信用

响应：系统提示信用无法修改

刺激：用户请求浏览自己未执行的正常订单

响应：系统显示未执行的正常订单

刺激：用户请求撤销自己未执行的正常订单

响应：提示撤销成功，将该订单设置为已撤销状态，记录撤销时间，并且如果撤销的订单距离最晚订单执行时间不足6个小时，则扣除用户该订单价值一半的信用值

刺激：用户请求浏览自己已执行的正常订单

响应：系统显示已执行的正常订单

刺激：用户请求浏览已撤销的订单

响应：系统显示已撤销的订单

刺激：用户请求取消管理个人信息

响应：系统显示主页

#### 3.2.1.3相关功能需求

##### 3.2.1.3.1禁止信用修改

​		系统应该在用户修改个人基本信息时，提示用户个人信息禁止修改，用户请求修改信用时，拒绝请求，并提示个人信用无法修改。

##### 3.2.1.3.2订单撤销时间

​		系统应该在订单撤销时，计算订单撤销时间与最晚订单执行时间的时间差距，如果时间差距小于6个小时，则扣除用户引用信用值，扣除的信用值为订单价值的一半。

##### 3.2.1.3.3订单撤销的信息保存

​		系统应该在订单撤销时，依旧保存订单的信息，并且将订单的设置成已撤销状态，记录撤销时间。

### 3.2.2浏览酒店信息

#### 3.2.2.1特性描述

​		用户根据地址和商圈请求浏览酒店信息，系统以列表的形式显示酒店信息。

#### 3.2.2.2刺激/响应序列

刺激：用户选择地址和商圈后请求浏览酒店信息

响应：系统识别选择的地址和商圈，并且以列表的形式根据某一顺序（包含价格，星级，评分）显示相应的酒店信息，且每一个酒店根据该用户曾经预定的情况（包括正常订单，撤销订单）显示不同的标记

刺激：用户请求查看某一个酒店的细节信息

响应：系统显示该酒店的细节信息包括（包括地址，简介，设施服务，客房类型，价格，以及所有该用户曾经在该酒店的历史订单）

刺激：用户请求离开酒店的细节信息页面

响应：系统显示酒店的列表

刺激：用户请求自定义排序列表

响应：系统显示排序条件（包括价格，星级，评分和自己预定过的酒店）

刺激：用户根据选择的排序条件请求排序列表

响应：系统显示该排序条件下的排序列表

刺激：用户请求取消浏览酒店信息

响应：系统显示主页

#### 3.2.2.3相关功能需求

##### 3.2.2.3.1酒店详细信息获取

​		系统应该在用户获取某个酒店详细信息前，让用户先选择指定的地址和商圈。

##### 3.2.2.3.2酒店列表展示

​		系统在初次展示酒店列表时，应该默认按评分降序展示。

##### 3.2.2.3.3酒店标记展示

​		系统应该根据每个用户在列表中酒店的正常订单，撤销订单的情况来呈现标记。

##### 3.2.2.3.4订单生成

​		系统应该允许订单的生成可以在列表中，也可以在酒店详情中。



### 3.2.3搜索酒店信息

#### 3.2.3.1特性描述

​		用户选择地址和商圈并根据酒店名称、房间（类型、原始价格区间、有空房期间（房间数量、入住日期，退房日期））、星级、评分区间等条件请求搜索酒店信息，系统显示酒店信息。

#### 3.2.3.2刺激/响应序列

刺激：用户请求搜索酒店信息

响应：系统提示选择地址，商圈后才能搜索，并显示搜索界面

刺激：用户完成选择地址商圈，并输入选择条件（包括酒店名称、房间（类型、原始价格区间、有空房期间（房间数量、入住日期，退房日期））、星级、评分区间）

响应：系统显示符合条件的酒店

刺激：用户请求取消搜索酒店

响应：系统显示主页

#### 3.2.3.3相关功能需求

##### 3.2.3.3.1酒店信息搜索

​		系统应该在用户搜索酒店信息前，让用户先选择指定的地址和商圈。

##### 3.2.3.3.2搜索条件

​		系统应该允许用户使用单个搜索条件或多个搜索条件进行联合搜索。



### 3.2.4注册酒店会员

#### 3.2.4.1特性描述

​		用户请求注册会员，系统接受该请求，并按照流程处理该请求。

#### 3.2.4.2刺激/响应序列

刺激：用户请求注册会员

响应：系统显示会员注册页面，并要求用户选择会员类型（包括普通会员，企业会员）

刺激：用户完成会员类型的选择

响应：系统根据选择的会员类型，要求用户填写信息（普通会员填写生日，企业会员填写企业名称）

刺激：用户完成信息填写

响应：系统检验用户填写的信息，如果符合规范，则将用户设为会员，并提示注册成功，返回主页，否则提示注册失败

#### 3.2.4.3相关功能需求

##### 3.2.4.3.1信息检验

​		系统应该在用户完成信息填写后，进行检验，生日的大小要符合日常规范，企业名称要存在且符合规范。

### 3.2.5维护酒店基本信息

#### 3.2.5.1特性描述

​		酒店工作人员请求维护酒店信息，系统显示维护酒店基本信息界面，允许酒店工作人员进行信息的修改（包括地址，所属商圈，简介，设施服务，星级）。

#### 3.2.5.2刺激/响应序列

刺激：酒店工作人员请求维护酒店信息

响应：系统显示该工作人员所在酒店的信息（包括地址，所属商圈，简介，设施服务，星级），并允许该酒店工作人员修改

刺激：酒店工作人员完成对酒店基本信息的修改

响应：系统验证修改后的信息，若符合格式则提示修改成功，不符合格式则提示修改错误，请重新修改

刺激：酒店工作人员请求取消信息修改

响应：系统显示主页

#### 3.2.5.3相关功能需求

##### 3.2.5.3.1信息检验

​		系统应该在酒店工作人员完成信息填写后，进行检验，地址，商圈要存在，星级要在1-8之间。



### 3.2.6录入可用客房

#### 3.2.6.1特性描述

​		酒店工作人员请求录入可用客房，系统显示客房信息设置界面，允许酒店工作人员进行信息修改（包括类型，数量，原始价格）。

#### 3.2.6.2刺激/响应序列

刺激：酒店工作人员请求录入可用客房

响应：系统显示该工作人员所在酒店的客房信息设置界面，并允许酒店工作人员修改信息（包括类型，数量，原始价格）

刺激：酒店工作人员完成对客房信息的修改

响应：系统验证修改后的信息，若符合格式则提示修改成功，不符合格式则提示修改错误，请重新修改

刺激：酒店工作人员取消录入客房信息

响应：系统显示主页

#### 3.2.6.3相关功能需求

##### 3.2.6.3.1信息检验

​		系统应该在酒店工作人员完成信息填写后，进行检验，类型要存在，数量要小于该酒店的房间数，原始价格要在相应的合理范围内。



### 3.2.7制定酒店促销策略

#### 3.2.7.1特性描述

​		酒店工作人员请求制定酒店促销策略，系统显示促销设置界面，允许酒店工作人员设置促销策略（包括生日特惠折扣）。

#### 3.2.7.2刺激/响应序列

刺激：酒店工作人员请求制定酒店促销策略

响应：系统显示生日特惠折扣设置界面，允许酒店工作人员修改

刺激：酒店工作人员完成生日特惠折扣的修改

响应：系统检验输入的折扣，如果输入不符合要求则提示修改失败，否则显示修改成功

刺激：酒店工作人员取消制定酒店促销策略

响应：系统显示主页

#### 3.2.7.3相关功能需求

##### 3.2.7.3.1信息检验

​		系统应该在酒店工作人员完成促销策略填写后，进行检验，折扣要在合理范围内，必须为正数，且折扣不能为100%，且促销机制不能重复，如果重复则拒绝该工作人员请求，并提示修改失败原因。

### 3.2.8浏览订单

#### 3.2.8.1特性描述

​		酒店工作人员请求浏览该酒店订单，系统允许酒店工作人员浏览该酒店未执行的房间预定的订单，浏览已执行的订单，浏览已撤销的订单。

#### 3.2.8.2刺激/响应序列

刺激：酒店工作人员请求浏览酒店订单

响应：系统显示该酒店的浏览订单页面，并提供未订单浏览选择（包括未执行的房间预定的订单，已执行的订单，已撤销的订单）

刺激：酒店工作人员选择未执行的房间预定的订单

响应：系统显示未执行的房间预定的订单

刺激：酒店工作人员选择已执行的订单

响应：系统显示已执行的订单

刺激：酒店工作人员选择已撤销的订单

响应：系统显示已撤销的订单

刺激：酒店工作人员请求取消浏览

响应：系统显示主页

#### 3.2.8.3相关功能需求

##### 3.2.8.3.1订单信息浏览

​		系统应该用户在浏览订单信息前，让用户选择订单类型，包括未执行的房间预定的订单，已执行的订单，已撤销的订单。



### 3.2.9订单执行

#### 3.2.9.1特性描述

​		酒店工作人员请求修改订单状态，系统允许酒店工作人员修改。

#### 3.2.9.2刺激/响应序列

刺激：酒店工作人员请求修改订单状态

响应：系统显示订单修改界面

刺激：酒店工作人员完成订单的修改，改变订单状态未已执行

响应：系统检验订单修改，如果符合则提示修改成功，否则提示修改失败

刺激：酒店工作人员请求取消修改订单状态

响应：系统显示主页

#### 3.2.9.3相关功能需求

##### 3.2.9.3.1信息检验

​		系统应该在酒店工作人员完成订单状态修改后，进行检验，只允许修改订单状态，且需要有变更，未执行改为已执行。



### 3.2.10制定网站促销策略

#### 3.2.10.1特性描述

​		网站营销人员请求制定网站促销策略，系统允许网站营销人员制定策略（包括双11活动折扣）。

#### 3.2.10.2刺激/响应序列

刺激：网站营销人员请求制定网站促销策略

响应：系统显示促销策略制定界面，允许网站营销人员填写

刺激：网站营销人员完成对促销策略的填写（包括时间，优惠大小）

响应：系统检验促销策略，如果符合规范则提示制定成功，反之提示制定失败

刺激：网站营销人员请求取消制定

响应：系统显示主页

#### 3.2.10.3相关功能需求

##### 3.2.10.3.1信息检验

​		系统应该在网站营销人员完成促销策略填写后，进行检验，折扣要在合理范围内，必须为正数，且折扣不能为100%，且促销机制不能重复，如果重复则拒绝该网站营销人员请求，并提示修改失败原因。



### 3.2.11用户管理

#### 3.2.11.1特性描述

​		网站管理人员请求进行用户管理，系统允许网站管理人员查询或更改用户信息，查询或更改酒店工作人员信息，添加网站营销人员，查询更改营销人员信息。

#### 3.2.11.2刺激/响应序列

刺激：网站管理人员请求进行用户管理

响应：系统显示用户管理界面，并提供三个选项（包括客户，酒店工作人员，营销人员）给网站管理人员选择

刺激：网站管理人员选择客户

响应：系统显示客户信息管理界面

刺激：网站管理人员请求查看客户信息

响应：系统显示客户信息

刺激：网站管理人员请求修改客户信息

响应：系统显示客户信息修改界面，允许网站管理员修改

刺激：网站管理员完成客户信息修改

响应：系统检验修改后的信息，符合规范则提示修改成功，否则提示修改失败

刺激：网站管理人员选择酒店工作人员

响应：系统显示酒店工作人员信息管理界面

刺激：网站管理人员请求查看酒店工作人员信息

响应：系统显示酒店工作人员信息

刺激：网站管理人员请求修改酒店工作人员信息

响应：系统显示酒店工作人员信息修改界面，允许网站管理员修改

刺激：网站管理员完成酒店工作人员信息修改

响应：系统检验修改后的信息，符合规范则提示修改成功，否则提示修改失败

刺激：网站管理人员选择营销人员信息

响应：系统显示营销人员信息管理界面

刺激：网站管理人员请求查看营销人员信息

响应：系统显示营销人员信息

刺激：网站管理人员请求添加营销人员信息

响应：系统显示营销人员信息添加界面，允许网站管理员添加

刺激：网站管理员完成营销人员信息添加

响应：系统检验添加后的信息，符合规范则提示添加成功，否则提示添加失败

刺激：网站管理人员请求修改营销人员信息

响应：系统显示营销人员信息修改界面，允许网站管理员修改

刺激：网站管理员完成营销人员信息修改

响应：系统检验修改后的信息，符合规范则提示修改成功，否则提示修改失败

刺激：网站管理人员请求取消用户信息修改

响应：系统显示主页

#### 3.2.11.3相关功能需求

##### 3.2.11.3.1信息查询修改

​		系统应该在网站管理人员进行用户管理前，让网站管理人员先选择管理人员的类型，包括客户，酒店工作人员，营销人员。

##### 3.2.11.3.2人员添加

​		系统应该只允许营销人员的添加，而其他人员类型不可以添加。

##### 3.2.11.3.2信息检验

​		系统应该在网站管理人员完成修改或添加后，进行检验，添加的ID要存在，信息要填写完全。



### 3.2.12添加酒店及其工作人员，查询，更改酒店工作人员信息

#### 3.2.12.1特性描述

​		网站管理人员请求添加酒店及其工作人员，查询，更改酒店工作人员信息，系统允许其行为。

#### 3.2.12.2刺激/响应序列

刺激：网站管理人员请求添加酒店及其工作人员

响应：系统显示酒店及其工作人员添加界面，允许网站管理人员填写添加的酒店

刺激：网站管理人员完成酒店添加的填写

响应：系统检验填写信息，符合规范则提示酒店添加成功，并允许填写工作人员添加信息，不符则提示酒店添加失败

刺激：网站管理人员完成工作人员添加信息的填写

响应：系统检验填写信息，符合规范则提示工作人员添加成功，不符合则提示添加失败

刺激：网站管理人员请求查看酒店工作人员信息

响应：系统显示酒店工作人员信息

刺激：网站管理人员请求修改酒店工作人员信息

响应：系统显示酒店工作人员信息修改界面，允许网站管理员修改

刺激：网站管理员完成酒店工作人员信息修改

响应：系统检验修改后的信息，符合规范则提示修改成功，否则提示修改失败

刺激：网站管理人员请求取消管理酒店工作人员

响应：系统显示主页

#### 3.2.12.3相关功能需求

##### 3.2.12.3.1工作人员添加

​		系统应该在网站管理人员进行工作人员添加前，让网站管理人员先添加酒店，且一个酒店只能有一个工作人员账号。

##### 3.2.12.3.2信息检验

​		系统在工作人员完成添加和修改后要进行，添加的酒店要存在，添加的工作人员ID要存在，且工作人员信息要填写完全。

### 3.2.13优惠策略添加

#### 3.2.13.1特性描述

​	网站营销人员添加优惠券策略，该优惠券可以发给客户在预订客房时使用

#### 3.2.13.2刺激/相应序列

刺激：网站营销人员请求添加优惠券策略

响应：系统显示优惠券策略添加界面，允许网站营销人员填写添加的优惠券策略

刺激：网站营销人员完成优惠券策略添加的填写

响应：系统检验填写信息，符合规范则提示优惠券策略添加成功，不符则提示错误信息，允许网站营销人员继续填写

刺激：网站营销人员请求将优惠券添加给客户

响应：系统将优惠券发给所有客户

刺激：网站营销人员请求取消优惠券策略添加

响应：系统显示主页

##### 3.2.13.3相关功能需求

##### 3.2.13.3.1优惠券发放

​		发放的优惠券状态为可使用

##### 3.2.13.3.2信息检验

​		系统在营销人员完成添加的信息填写后要进行，添加的优惠券策略信息要符合规范，金额为数字，折扣在0到1之间

### 3.2.14修改用户头像

#### 3.2.14.1特性描述

​	客户修改自己的头像，每次登录后都会显示最近一次修改的头像

#### 3.2.14.2刺激/相应序列

刺激：客户请求修改头像

响应：系统显示头像修改界面，允许客户在本机的文件中上传图片作为邮箱

刺激：客户完成图片的选择并确定

响应：系统将图片上传，并将用户头像修改成上传图片

刺激：客户请求取消头像修改

响应：系统显示主页

##### 3.2.14.3相关功能需求

无


### 3.3 非功能需求
#### 3.3.1  安全性

    Safety 1: 系统应该只允许经过验证和授权的用户访问。
    Safety 2: 系统应该按照用户身份验证用户的访问权限：
        用户、管理员有身份授权，
        其他身份的用户没有访问权限。
    Safety 3: 用户的账号、密码、姓名（名称）、联系方式必须密文存储

#### 3.3.2  可维护性

    Modifiability1:允许酒店促销策略和网站营销策略出现新的类型

#### 3.3.3  易用性

    Usability1： 所有类型人员都不需要专门的培训，就可以在10分钟内完成任一个操作任务。

#### 3.3.4  可靠性

    Reliability1: 网络畅通，不会发生故障
    Reliability2: 所有操作任务的完成时间不会超过1个小时，即使用暂停与中断不会超过1个小时
    Reliability3: 地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直 接在后台数据中进行，不需要系统提供维护功能 

#### 3.3.5  业务规则

    BR1: 适用（预定日期，生日日期）的订单特惠折扣策略。
        （预定日期=生日日期）
    BR2: 适用（额度，预定数量）特惠预订策略。
        （额度<=预定数量）
    BR3: 适用双十一（参照日期）预订折扣特惠。
        （开始日期早于等于参照日期）且（结束日期晚于等于参照日期）

#### 3.3.6  约束

IC1: 系统要在网络上分布一个服务器和多个客户端。

### 3.4  数据需求
#### 3.4.1  数据定义

+ DR1：系统需要存储优惠券信息：优惠券序号、描述信息、适用酒店序号、优惠券类型、优惠券名称、目标金额、折扣百分比、使用状态、起始日期、截止日期、折扣金额
+ DR2：系统需要存储酒店信息：酒店序号、酒店名称、酒店描述、地址、地区、酒店星级、联系电话、评分、经理序号、封面url
+ DR3：系统需要存储订单信息：订单序号、用户序号、酒店序号、酒店名称、入住日期、退房日期、房间类型、房间数量、入住人员数量、有无儿童、订单创建日期、价格、客户姓名、联系电话、订单状态、评分
+ DR4：系统需要存储房间信息：房间序号、房间价格、房间现有数量、房间总量、酒店序号、房间类型
+ DR5：系统需要存储用户信息：用户序号、用户电子邮件地址、用户密码、用户姓名、联系电话、信用值、用户类型，头像url，是否为VIP。
+ DR6：系统需要存储用户信用值变化信息：序号，用户序号，操作时间，订单序号，操作类型，信用值变化量，信用值变化结果
+ DR7：系统需要存储VIP卡信息：VIP卡序号，用户序号，VIP积分，VIP等级，VIP卡类型，储值，VIP卡信息
+ DR8：系统需要存储折扣促销信息：折扣序号，用户序号，折扣描述信息，折扣比例，目标金额，折扣金额，折扣数量，折扣券状态
+ DR9：系统删除订单之后的数据仍然要继续存储3个月的时间，以保证历史数据显示的准确性。
+ DR10：优惠券使用之后的数据仍然要继续存储3个月的时间，以保证历史数据显示的准确性。
+ DR11：折扣券使用之后的数据仍然要继续存储3个月的时间，以保证历史数据显示的准确性。
+ DR12：用户信用值变化记录会永久保存，以保证历史数据显示的准确性。
+ DR13：VIP卡信息会永久保存，注册即为永久会员。

#### 3.4.2  默认数据

默认数据用于以下两种情况：系统新增加数据时；编辑数据时不小心将相关内容清空时。

+ Default1：优惠券序号、优惠券类型、优惠券名称为NOT NULL，适用酒店序号为-1，其余信息为NULL
+ Default2：酒店序号、酒店名称为NOT NULL，其余信息为NULL
+ Default3：订单序号为NOT NULL，其余信息为NULL
+ Default4：房间序号为NOT NULL，其余信息为NULL
+ Default5：用户序号为NOT NULL，其余信息为NULL
+ Default6：信用值变化记录序号为NOT NULL，其余信息为NULL
+ Default7：VIP卡序号为NOT NULL，其余信息为NULL
+ Default8：折扣序号为NOT NULL，折扣比例为1，折扣数量为0，其余信息为NULL

#### 3.4.3  数据格式要求

Format1：

| 优惠券信息   | 数据类型     |
| ------------ | ------------ |
| 优惠券序号   | int(11)      |
| 描述信息     | varchar(255) |
| 适用酒店序号 | int(11)      |
| 优惠券类型   | int(11)      |
| 优惠券名称   | varchar(255) |
| 目标金额     | int(11)      |
| 折扣百分比   | double       |
| 使用状态     | int(11)      |
| 起始日期     | datetime     |
| 截止日期     | datetime     |
| 折扣金额     | int(11)      |

Format2：

| 酒店信息 | 数据类型      |
| -------- | ------------- |
| 酒店序号 | int(11)       |
| 酒店名称 | varchar(255)  |
| 酒店描述 | varchar(255)  |
| 地址     | varchar(255)  |
| 地区     | varchar(255)  |
| 酒店星级 | varchar(255)  |
| 联系电话 | varchar(255)  |
| 评分     | double        |
| 经理序号 | int(11)       |
| 封面url  | varchar(1023) |

Format3：

| 订单信息     | 数据类型      |
| ------------ | ------------- |
| 订单序号     | int(11)       |
| 用户序号     | int(11)       |
| 酒店序号     | int(11)       |
| 酒店名称     | varchar(255)  |
| 入住日期     | varchar(255)  |
| 退房日期     | varchar(255)  |
| 房间类型     | varchar(255)  |
| 房间数量     | int(255)      |
| 入住人员数量 | int(255)      |
| 有无儿童     | tinytext      |
| 订单创建日期 | varchar(255)  |
| 价格         | decimal(65,0) |
| 客户姓名     | varchar(255)  |
| 联系电话     | varchar(255)  |
| 订单状态     | varchar(255)  |
| 评分         | int(11)       |

Format4：

| 房间信息     | 数据类型    |
| ------------ | ----------- |
| 房间序号     | int(11)     |
| 房间价格     | double      |
| 房间现有数量 | int(11)     |
| 房间总量     | int(11)     |
| 酒店序号     | int(11)     |
| 房间类型     | varchar(50) |

Format5：

| 用户信息         | 数据类型      |
| ---------------- | ------------- |
| 用户序号         | int(11)       |
| 用户电子邮件地址 | varchar(255)  |
| 用户密码         | varchar(11)   |
| 用户姓名         | varchar(255)  |
| 联系电话         | varchar(255)  |
| 信用值           | double(255,0) |
| 用户类型         | varchar(255)  |
| 头像url          | varchar(1023) |
| VIP              | int(11)       |

Format6:

| 信用值变化记录 | 数据类型      |
| -------------- | ------------- |
| 变化记录序号   | int(11)       |
| 用户序号       | int(11)       |
| 操作时间       | varchar(255)  |
| 订单号         | int(11)       |
| 操作类型       | varchar(255)  |
| 信用值变化量   | double(255,0) |
| 信用值变化结果 | double(255,0) |

Format7:

| VIP卡信息 | 数据类型      |
| --------- | ------------- |
| VIP卡序号 | int(11)       |
| 用户序号  | int(11)       |
| VIP积分   | double(255,0) |
| VIP等级   | int(11)       |
| VIP卡类型 | varchar(255)  |
| 储值      | double(255,0) |
| VIP卡信息 | varchar(255)  |

Format8:

| 折扣信息   | 数据类型     |
| ---------- | ------------ |
| 折扣券序号 | int(11)      |
| 用户序号   | int(11)      |
| 折扣券描述 | varchar(255) |
| 折扣比例   | double       |
| 目标金额   | int(11)      |
| 折扣金额   | int(11)      |
| 折扣券数量 | int(11)      |
| 折扣券状态 | varchar(255) |

### 3.5  其他

安装需求：

+ Install 1：在安装系统时，要初始化客户、酒店工作人员、酒店、订单等数据
+ Install 2：要为客户、酒店工作人员、网站营销人员、网站管理人员提供不同的应用部署。